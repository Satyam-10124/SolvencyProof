{
  "passed": 13,
  "failed": 6,
  "warnings": 5,
  "tests": [
    {
      "name": "Health Check",
      "endpoint": "/health",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2137.29,
      "success": true,
      "response": {
        "status": "ok",
        "timestamp": "2026-02-03T21:41:37.973Z"
      }
    },
    {
      "name": "Get Liabilities",
      "endpoint": "/api/liabilities",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1527.32,
      "success": true,
      "response": {
        "root": "0xa82c97d81113873ce337792957e7bde96bd4e79efd371021a175c3517ead8c5b",
        "epochId": "epoch_001",
        "leafCount": 3,
        "timestamp": 0,
        "tree": null
      }
    },
    {
      "name": "Build Merkle Tree",
      "endpoint": "/api/liabilities/build",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 3635.33,
      "success": true,
      "response": {
        "success": true,
        "message": "Liabilities tree built successfully",
        "data": {
          "liabilities_root": "0x146b9e833eec7907bfdf60ae5a6b29c2b8ad6775d556727f95e86c8e0edd3955",
          "epoch_id": "epoch_001",
          "timestamp": 0,
          "leaf_count": 4
        },
        "output": "\ud83d\udce6 SolvencyProof: Liabilities Merkle Builder\n\n\ud83d\udcc4 Loaded 4 liability entries from CSV\n\n\ud83c\udf33 Merkle Tree Built\n   Root:  0x146b9e833eec7907bfdf60ae5a6b29c2b8ad6775d556727f95e86c8e0edd3955\n   Total: 1103000\n   Leaves: 4\n\n\u2705 Saved liabilities_root.json\n\u2705 Saved liabilities_total.json (private)\n\u2705 Saved 4 inclusion proof files\n\n\ud83c\udf89 Liabilities Merkle build complete!\n"
      }
    },
    {
      "name": "Verify Inclusion (alice)",
      "endpoint": "/api/liabilities/verify/alice",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 3086.54,
      "success": true,
      "response": {
        "success": true,
        "userId": "alice",
        "output": "\ud83d\udd0d SolvencyProof: Inclusion Verifier\n\nUser:    alice\nBalance: 5000\nRoot:    0xe9a47d641446b9a26b6486d34ee58a117dd599c7ff91e87dba5b04d39ae50dd9\nIndex:   0\nProof:   2 siblings\n\nLeaf hash match: \u2705\nProof valid:     \u2705\n\n\ud83c\udf89 Inclusion verified! Your balance is included in the liabilities root.\n"
      }
    },
    {
      "name": "Verify Inclusion (unknown)",
      "endpoint": "/api/liabilities/verify/unknown_user_xyz",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 3241.78,
      "success": false,
      "response": {
        "error": "Verification failed",
        "details": "Command failed: npx tsx src/verify-inclusion.ts unknown_user_xyz\n\u274c Inclusion proof not found for: unknown_user_xyz\n   Expected file: /app/data/output/inclusion_proofs/inclusion_unknown_user_xyz.json\n   Run 'npx tsx src/merkle-builder.ts' first to generate proofs.\n"
      }
    },
    {
      "name": "Get Reserves",
      "endpoint": "/api/reserves",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1402.0,
      "success": true,
      "response": {
        "epoch_id": "epoch_001",
        "timestamp": 1770130145091,
        "chain": "sepolia",
        "chain_id": 11155111,
        "addresses": [
          {
            "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
            "balance": "0.355711576363123007",
            "balanceWei": "355711576363123007"
          }
        ],
        "reserves_total": "0.355711576363123007",
        "reserves_total_wei": "355711576363123007"
      }
    },
    {
      "name": "Scan Reserves",
      "endpoint": "/api/reserves/scan",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 4400.49,
      "success": true,
      "response": {
        "success": true,
        "message": "Reserves scanned successfully",
        "data": {
          "epoch_id": "epoch_001",
          "timestamp": 1770154915309,
          "chain": "sepolia",
          "chain_id": 11155111,
          "addresses": [],
          "reserves_total": "0",
          "reserves_total_wei": "0"
        },
        "output": "\ud83d\udce6 SolvencyProof: Reserves Scanner\n\n\ud83d\udccd Scanning 1 reserve address(es) on Sepolia\n\n\n\ud83d\udcb0 Total Reserves: 0 ETH\n   (0 wei)\n\n\u2705 Saved reserves_snapshot.json\n\n\ud83c\udf89 Reserves scan complete!\n"
      }
    },
    {
      "name": "Get Proof Data",
      "endpoint": "/api/proof",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1530.2,
      "success": true,
      "response": {
        "proof": {
          "pi_a": [
            "13840910365814601662162947179321860320178737824362711841390208082913417434223",
            "6972294779632946468896589762651553738521823372935088482067846780033231648031",
            "1"
          ],
          "pi_b": [
            [
              "21111257176753983675769556097743130680300180767246502226159147100721511889270",
              "16639161571497319568703241300810802308622028178513271208048801601805583108594"
            ],
            [
              "7909572658420077594439372745748655024724320106090208603976401050584504245312",
              "3287013225593532479708125642270129679207847908531661728292566370014461935892"
            ],
            [
              "1",
              "0"
            ]
          ],
          "pi_c": [
            "2027980582658023390667278050538057894876183164734578823271113169309226538671",
            "3054806457623342730770985293755337802553815396758925903786766413907342786772",
            "1"
          ],
          "protocol": "groth16",
          "curve": "bn128"
        },
        "publicSignals": [
          "1",
          "10402619206166364393997169141620422006090302576193742179882619882788992420952",
          "355711576363123007",
          "1770149094"
        ],
        "calldata": {
          "pA": [
            "0x1e99ad7a9994e2fcc74369a6e51834aa94db78cbb594a5400bcb200a3f0b146f",
            "0x0f6a2dd2cf697ad0d660b293688c3d794e72f879f8bcbe7bac700bc3d416751f"
          ],
          "pB": [
            [
              "0x24c96e846ecbbe581ba1ff5c25863be1eff42d6635574a272d75ad7f74d7c9f2",
              "0x2eac8c51b006735f7d62c6d6d7393d55f6e1dad8f2995c486a82b8b592477976"
            ],
            [
              "0x07446230bcd4f26b5e887200e557633807736103a4d072709c249669f57fc114",
              "0x117ca8d38a098ad876724f802ae619449b84ca74606ef1a4c5d6669e2a769c40"
            ]
          ],
          "pC": [
            "0x047bcbdc81b6f5f2e2ecb63721d49189f8abd08c917fa5a4bdfe5d4db52896af",
            "0x06c0f58d048c059e0962dc000d90eee1d3038765861e7942255262a63e7e00d4"
          ],
          "pubSignals": [
            "0x0000000000000000000000000000000000000000000000000000000000000001",
            "0x16ffac7f6d7ea6bfba46a805d363b4d1f3392ec5900abe6dd5cfe295aead8c58",
            "0x00000000000000000000000000000000000000000000000004efbdcb479e413f",
            "0x00000000000000000000000000000000000000000000000000000000698254e6"
          ]
        }
      }
    },
    {
      "name": "Generate ZK Proof",
      "endpoint": "/api/proof/generate",
      "method": "POST",
      "status_code": 500,
      "elapsed_ms": 2248.93,
      "success": false,
      "response": {
        "error": "Failed to generate proof",
        "details": "Command failed: npx tsx src/solvency-prover.ts\n\n\u274c Error: Insolvency detected! Reserves (0) < Liabilities (1103000)\n"
      }
    },
    {
      "name": "Get Contract Addresses",
      "endpoint": "/api/contracts",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1541.34,
      "success": true,
      "response": {
        "network": "sepolia",
        "chainId": 11155111,
        "timestamp": "2026-02-03T15:13:10.751Z",
        "contracts": {
          "Groth16Verifier": "0x5e22F8cB0CfbC0df5F2251009674E1266E1D2DD6",
          "SolvencyProofRegistry": "0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d"
        }
      }
    },
    {
      "name": "Get Epoch Count",
      "endpoint": "/api/contracts/epoch-count",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 2665.45,
      "success": false,
      "response": {
        "error": "Failed to get epoch count",
        "details": "HTTP request failed.\n\nURL: https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY\nRequest body: {\"method\":\"eth_call\",\"params\":[{\"data\":\"0x2387d32c\",\"to\":\"0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\"},\"latest\"]}\n \nRaw Call Arguments:\n  to:    0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  data:  0x2387d32c\n \nContract Call:\n  address:   0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  function:  getEpochCount()\n\nDocs: https://viem.sh/docs/contract/readContract\nDetails: Unexpected token 'M', \"Must be au\"... is not valid JSON\nVersion: viem@2.45.1"
      }
    },
    {
      "name": "Get On-Chain Proof (epoch 1)",
      "endpoint": "/api/contracts/proof/1",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 2361.81,
      "success": false,
      "response": {
        "error": "Failed to get on-chain proof",
        "details": "HTTP request failed.\n\nURL: https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY\nRequest body: {\"method\":\"eth_call\",\"params\":[{\"data\":\"0x1b80bb3a0000000000000000000000000000000000000000000000000000000000000001\",\"to\":\"0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\"},\"latest\"]}\n \nRaw Call Arguments:\n  to:    0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  data:  0x1b80bb3a0000000000000000000000000000000000000000000000000000000000000001\n \nContract Call:\n  address:   0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  function:  getProof(bytes32 epochId)\n  args:              (0x0000000000000000000000000000000000000000000000000000000000000001)\n\nDocs: https://viem.sh/docs/contract/readContract\nDetails: Unexpected token 'M', \"Must be au\"... is not valid JSON\nVersion: viem@2.45.1"
      }
    },
    {
      "name": "Get Yellow Status",
      "endpoint": "/api/yellow/status",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1620.2,
      "success": true,
      "response": {
        "connected": false,
        "authenticated": false,
        "sessionsCount": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "List Yellow Sessions",
      "endpoint": "/api/yellow/sessions",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1426.27,
      "success": true,
      "response": {
        "sessions": [],
        "count": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "Create Yellow Session",
      "endpoint": "/api/yellow/session",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 1229.87,
      "success": true,
      "response": {
        "success": true,
        "message": "Yellow session created (state channel opened)",
        "session": {
          "id": "session_1770154929984_s61mranbw",
          "channelId": "0xe96d106a312c5bdc83bdaec9d3661b67a8624f84203c0d92746a10e0f3445289",
          "participants": [
            "0x1234567890123456789012345678901234567890"
          ],
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0"
          },
          "status": "open",
          "stateHash": "0x04ac9ac51b87516f80e2f5c8297e1f239e556d52028826f55a51385214e43eab",
          "nonce": 0,
          "createdAt": "2026-02-03T21:42:09.985Z"
        }
      }
    },
    {
      "name": "Get Session Details",
      "endpoint": "/api/yellow/session/session_1770154929984_s61mranbw",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1134.71,
      "success": true,
      "response": {
        "id": "session_1770154929984_s61mranbw",
        "channelId": "0xe96d106a312c5bdc83bdaec9d3661b67a8624f84203c0d92746a10e0f3445289",
        "participants": [
          "0x1234567890123456789012345678901234567890"
        ],
        "allocations": {
          "0x1234567890123456789012345678901234567890": "0"
        },
        "nonce": 0,
        "status": "open",
        "stateHash": "0x04ac9ac51b87516f80e2f5c8297e1f239e556d52028826f55a51385214e43eab",
        "signatures": {
          "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E": "0x1e58def306c663830d8347ab5ea5cd90a8111f9ff2daa63ff89eb74506fc713963aedf47006557940464c68aea4357a6b5c07713dbcd853bb03b8caad2c4203d1b"
        },
        "createdAt": "2026-02-03T21:42:09.985Z",
        "updatedAt": "2026-02-03T21:42:09.985Z",
        "metadata": {
          "version": 1,
          "turnNum": 0,
          "appData": ""
        }
      }
    },
    {
      "name": "Update Allocations",
      "endpoint": "/api/yellow/session/session_1770154929984_s61mranbw/allocations",
      "method": "PUT",
      "status_code": 500,
      "elapsed_ms": 1398.5,
      "success": false,
      "response": {
        "error": "Failed to update allocations",
        "details": "Unknown participant: user1"
      }
    },
    {
      "name": "Get Session History",
      "endpoint": "/api/yellow/session/session_1770154929984_s61mranbw/history",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1455.31,
      "success": true,
      "response": {
        "sessionId": "session_1770154929984_s61mranbw",
        "history": [
          {
            "timestamp": "2026-02-03T21:42:09.996Z",
            "nonce": 0,
            "stateHash": "0x04ac9ac51b87516f80e2f5c8297e1f239e556d52028826f55a51385214e43eab",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0"
            },
            "status": "open"
          }
        ],
        "totalTransitions": 1
      }
    },
    {
      "name": "Full Workflow",
      "endpoint": "/api/workflow/full",
      "method": "POST",
      "status_code": 500,
      "elapsed_ms": 7294.44,
      "success": false,
      "response": {
        "error": "Workflow failed",
        "details": "Command failed: npx tsx src/solvency-prover.ts\n\n\u274c Error: Insolvency detected! Reserves (0) < Liabilities (1103000)\n"
      }
    }
  ]
}