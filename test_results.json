{
  "passed": 11,
  "failed": 8,
  "warnings": 4,
  "tests": [
    {
      "name": "Health Check",
      "endpoint": "/health",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2542.6,
      "success": true,
      "response": {
        "status": "ok",
        "timestamp": "2026-02-03T21:34:51.195Z"
      }
    },
    {
      "name": "Get Liabilities",
      "endpoint": "/api/liabilities",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1789.99,
      "success": true,
      "response": {
        "root": "0xa82c97d81113873ce337792957e7bde96bd4e79efd371021a175c3517ead8c5b",
        "epochId": "epoch_001",
        "leafCount": 3,
        "timestamp": 0,
        "tree": null
      }
    },
    {
      "name": "Build Merkle Tree",
      "endpoint": "/api/liabilities/build",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 4135.0,
      "success": true,
      "response": {
        "success": true,
        "message": "Liabilities tree built successfully",
        "data": {
          "liabilities_root": "0x146b9e833eec7907bfdf60ae5a6b29c2b8ad6775d556727f95e86c8e0edd3955",
          "epoch_id": "epoch_001",
          "timestamp": 0,
          "leaf_count": 4
        },
        "output": "\ud83d\udce6 SolvencyProof: Liabilities Merkle Builder\n\n\ud83d\udcc4 Loaded 4 liability entries from CSV\n\n\ud83c\udf33 Merkle Tree Built\n   Root:  0x146b9e833eec7907bfdf60ae5a6b29c2b8ad6775d556727f95e86c8e0edd3955\n   Total: 1103000\n   Leaves: 4\n\n\u2705 Saved liabilities_root.json\n\u2705 Saved liabilities_total.json (private)\n\u2705 Saved 4 inclusion proof files\n\n\ud83c\udf89 Liabilities Merkle build complete!\n"
      }
    },
    {
      "name": "Verify Inclusion (alice)",
      "endpoint": "/api/liabilities/verify/alice",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 4374.0,
      "success": false,
      "response": {
        "error": "Verification failed",
        "details": "Command failed: npx tsx src/verify-inclusion.ts alice\n\u274c File not found: /app/backend/alice\n"
      }
    },
    {
      "name": "Verify Inclusion (unknown)",
      "endpoint": "/api/liabilities/verify/unknown_user_xyz",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 3430.34,
      "success": false,
      "response": {
        "error": "Verification failed",
        "details": "Command failed: npx tsx src/verify-inclusion.ts unknown_user_xyz\n\u274c File not found: /app/backend/unknown_user_xyz\n"
      }
    },
    {
      "name": "Get Reserves",
      "endpoint": "/api/reserves",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1665.05,
      "success": true,
      "response": {
        "epoch_id": "epoch_001",
        "timestamp": 1770130145091,
        "chain": "sepolia",
        "chain_id": 11155111,
        "addresses": [
          {
            "address": "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E",
            "balance": "0.355711576363123007",
            "balanceWei": "355711576363123007"
          }
        ],
        "reserves_total": "0.355711576363123007",
        "reserves_total_wei": "355711576363123007"
      }
    },
    {
      "name": "Scan Reserves",
      "endpoint": "/api/reserves/scan",
      "method": "POST",
      "status_code": 500,
      "elapsed_ms": 4939.95,
      "success": false,
      "response": {
        "error": "Failed to scan reserves",
        "details": "Command failed: npx tsx src/reserves-scanner.ts\n\u274c Error: TypeError: addresses is not iterable\n    at main (/app/backend/src/reserves-scanner.ts:50:25)\n    at <anonymous> (/app/backend/src/reserves-scanner.ts:96:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:325:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:606:24)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)\n"
      }
    },
    {
      "name": "Get Proof Data",
      "endpoint": "/api/proof",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1827.84,
      "success": true,
      "response": {
        "proof": {
          "pi_a": [
            "13840910365814601662162947179321860320178737824362711841390208082913417434223",
            "6972294779632946468896589762651553738521823372935088482067846780033231648031",
            "1"
          ],
          "pi_b": [
            [
              "21111257176753983675769556097743130680300180767246502226159147100721511889270",
              "16639161571497319568703241300810802308622028178513271208048801601805583108594"
            ],
            [
              "7909572658420077594439372745748655024724320106090208603976401050584504245312",
              "3287013225593532479708125642270129679207847908531661728292566370014461935892"
            ],
            [
              "1",
              "0"
            ]
          ],
          "pi_c": [
            "2027980582658023390667278050538057894876183164734578823271113169309226538671",
            "3054806457623342730770985293755337802553815396758925903786766413907342786772",
            "1"
          ],
          "protocol": "groth16",
          "curve": "bn128"
        },
        "publicSignals": [
          "1",
          "10402619206166364393997169141620422006090302576193742179882619882788992420952",
          "355711576363123007",
          "1770149094"
        ],
        "calldata": {
          "pA": [
            "0x1e99ad7a9994e2fcc74369a6e51834aa94db78cbb594a5400bcb200a3f0b146f",
            "0x0f6a2dd2cf697ad0d660b293688c3d794e72f879f8bcbe7bac700bc3d416751f"
          ],
          "pB": [
            [
              "0x24c96e846ecbbe581ba1ff5c25863be1eff42d6635574a272d75ad7f74d7c9f2",
              "0x2eac8c51b006735f7d62c6d6d7393d55f6e1dad8f2995c486a82b8b592477976"
            ],
            [
              "0x07446230bcd4f26b5e887200e557633807736103a4d072709c249669f57fc114",
              "0x117ca8d38a098ad876724f802ae619449b84ca74606ef1a4c5d6669e2a769c40"
            ]
          ],
          "pC": [
            "0x047bcbdc81b6f5f2e2ecb63721d49189f8abd08c917fa5a4bdfe5d4db52896af",
            "0x06c0f58d048c059e0962dc000d90eee1d3038765861e7942255262a63e7e00d4"
          ],
          "pubSignals": [
            "0x0000000000000000000000000000000000000000000000000000000000000001",
            "0x16ffac7f6d7ea6bfba46a805d363b4d1f3392ec5900abe6dd5cfe295aead8c58",
            "0x00000000000000000000000000000000000000000000000004efbdcb479e413f",
            "0x00000000000000000000000000000000000000000000000000000000698254e6"
          ]
        }
      }
    },
    {
      "name": "Generate ZK Proof",
      "endpoint": "/api/proof/generate",
      "method": "POST",
      "status_code": 500,
      "elapsed_ms": 3000.14,
      "success": false,
      "response": {
        "error": "Failed to generate proof",
        "details": "Command failed: npx tsx src/solvency-prover.ts\n\n\u274c Error: ENOENT: no such file or directory, open '/app/circuits/build/input.json'\n"
      }
    },
    {
      "name": "Get Contract Addresses",
      "endpoint": "/api/contracts",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 2005.43,
      "success": true,
      "response": {
        "network": "sepolia",
        "chainId": 11155111,
        "timestamp": "2026-02-03T15:13:10.751Z",
        "contracts": {
          "Groth16Verifier": "0x5e22F8cB0CfbC0df5F2251009674E1266E1D2DD6",
          "SolvencyProofRegistry": "0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d"
        }
      }
    },
    {
      "name": "Get Epoch Count",
      "endpoint": "/api/contracts/epoch-count",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 2783.71,
      "success": false,
      "response": {
        "error": "Failed to get epoch count",
        "details": "HTTP request failed.\n\nURL: https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY\nRequest body: {\"method\":\"eth_call\",\"params\":[{\"data\":\"0x2387d32c\",\"to\":\"0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\"},\"latest\"]}\n \nRaw Call Arguments:\n  to:    0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  data:  0x2387d32c\n \nContract Call:\n  address:   0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  function:  getEpochCount()\n\nDocs: https://viem.sh/docs/contract/readContract\nDetails: Unexpected token 'M', \"Must be au\"... is not valid JSON\nVersion: viem@2.45.1"
      }
    },
    {
      "name": "Get On-Chain Proof (epoch 1)",
      "endpoint": "/api/contracts/proof/1",
      "method": "GET",
      "status_code": 500,
      "elapsed_ms": 2583.26,
      "success": false,
      "response": {
        "error": "Failed to get on-chain proof",
        "details": "HTTP request failed.\n\nURL: https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY\nRequest body: {\"method\":\"eth_call\",\"params\":[{\"data\":\"0x1b80bb3a0000000000000000000000000000000000000000000000000000000000000001\",\"to\":\"0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\"},\"latest\"]}\n \nRaw Call Arguments:\n  to:    0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  data:  0x1b80bb3a0000000000000000000000000000000000000000000000000000000000000001\n \nContract Call:\n  address:   0x7a9f15BCD95FDD20cf31A480f37CAA9b708aB33d\n  function:  getProof(bytes32 epochId)\n  args:              (0x0000000000000000000000000000000000000000000000000000000000000001)\n\nDocs: https://viem.sh/docs/contract/readContract\nDetails: Unexpected token 'M', \"Must be au\"... is not valid JSON\nVersion: viem@2.45.1"
      }
    },
    {
      "name": "Get Yellow Status",
      "endpoint": "/api/yellow/status",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1905.39,
      "success": true,
      "response": {
        "connected": false,
        "authenticated": false,
        "sessionsCount": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "List Yellow Sessions",
      "endpoint": "/api/yellow/sessions",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1701.75,
      "success": true,
      "response": {
        "sessions": [],
        "count": 0,
        "totalOpenLiabilities": "0"
      }
    },
    {
      "name": "Create Yellow Session",
      "endpoint": "/api/yellow/session",
      "method": "POST",
      "status_code": 200,
      "elapsed_ms": 1529.47,
      "success": true,
      "response": {
        "success": true,
        "message": "Yellow session created (state channel opened)",
        "session": {
          "id": "session_1770154528879_fn3usg80p",
          "channelId": "0x1750a917cbff01968b5b180aedf1e0f2348e35bead6507f62344864b92510f7e",
          "participants": [
            "0x1234567890123456789012345678901234567890"
          ],
          "allocations": {
            "0x1234567890123456789012345678901234567890": "0"
          },
          "status": "open",
          "stateHash": "0x020cdb8c3de1d4fa6d9131221c5b281d1f15f5363d5f55cfc728848a3895deaa",
          "nonce": 0,
          "createdAt": "2026-02-03T21:35:28.880Z"
        }
      }
    },
    {
      "name": "Get Session Details",
      "endpoint": "/api/yellow/session/session_1770154528879_fn3usg80p",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1645.84,
      "success": true,
      "response": {
        "id": "session_1770154528879_fn3usg80p",
        "channelId": "0x1750a917cbff01968b5b180aedf1e0f2348e35bead6507f62344864b92510f7e",
        "participants": [
          "0x1234567890123456789012345678901234567890"
        ],
        "allocations": {
          "0x1234567890123456789012345678901234567890": "0"
        },
        "nonce": 0,
        "status": "open",
        "stateHash": "0x020cdb8c3de1d4fa6d9131221c5b281d1f15f5363d5f55cfc728848a3895deaa",
        "signatures": {
          "0xa58DCCb0F17279abD1d0D9069Aa8711Df4a4c58E": "0xe5447d331b5ce12f169edfd5843256c9c64c01e8380fe655f25fe71f14b64ee11240f3f9c364237177188d071b0fa54056c99690fc320bc3933dc0acc43aebc91c"
        },
        "createdAt": "2026-02-03T21:35:28.880Z",
        "updatedAt": "2026-02-03T21:35:28.880Z",
        "metadata": {
          "version": 1,
          "turnNum": 0,
          "appData": ""
        }
      }
    },
    {
      "name": "Update Allocations",
      "endpoint": "/api/yellow/session/session_1770154528879_fn3usg80p/allocations",
      "method": "PUT",
      "status_code": 500,
      "elapsed_ms": 1402.37,
      "success": false,
      "response": {
        "error": "Failed to update allocations",
        "details": "Unknown participant: user1"
      }
    },
    {
      "name": "Get Session History",
      "endpoint": "/api/yellow/session/session_1770154528879_fn3usg80p/history",
      "method": "GET",
      "status_code": 200,
      "elapsed_ms": 1663.31,
      "success": true,
      "response": {
        "sessionId": "session_1770154528879_fn3usg80p",
        "history": [
          {
            "timestamp": "2026-02-03T21:35:28.893Z",
            "nonce": 0,
            "stateHash": "0x020cdb8c3de1d4fa6d9131221c5b281d1f15f5363d5f55cfc728848a3895deaa",
            "allocations": {
              "0x1234567890123456789012345678901234567890": "0"
            },
            "status": "open"
          }
        ],
        "totalTransitions": 1
      }
    },
    {
      "name": "Full Workflow",
      "endpoint": "/api/workflow/full",
      "method": "POST",
      "status_code": 500,
      "elapsed_ms": 7062.96,
      "success": false,
      "response": {
        "error": "Workflow failed",
        "details": "Command failed: npx tsx src/reserves-scanner.ts\n\u274c Error: TypeError: addresses is not iterable\n    at main (/app/backend/src/reserves-scanner.ts:50:25)\n    at <anonymous> (/app/backend/src/reserves-scanner.ts:96:1)\n    at ModuleJob.run (node:internal/modules/esm/module_job:325:25)\n    at async ModuleLoader.import (node:internal/modules/esm/loader:606:24)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)\n"
      }
    }
  ]
}